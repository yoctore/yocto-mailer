"use strict";function Transformer(r){this.logger=r}var logger=require("yocto-logger"),_=require("lodash"),striptags=require("striptags"),path=require("path"),fs=require("fs"),mime=require("mime"),uuid=require("uuid");Transformer.prototype.toAddressObject=function(r){return _.isString(r)?{address:r,name:r}:r},Transformer.prototype.toAddressArray=function(r){return this.toArray(this.toAddressObject(r))},Transformer.prototype.toArray=function(r){return[r]},Transformer.prototype.htmlToText=function(r){return striptags(r)},Transformer.prototype.attachementsToArray=function(r){return this.toArray({cid:uuid.v4(),content:fs.readFileSync(r).toString("base64"),contentType:mime.lookup(r),encoding:"base64",filename:path.basename(r)})},Transformer.prototype.toHeaderObject=function(r){return _.set({},r.key,r.value)},module.exports=function(r){return(_.isUndefined(r)||_.isNull(r))&&(logger.warning("[ Transformer.constructor ] - Invalid logger given. Use internal logger"),r=logger),new Transformer(r)};