"use strict";function ContactLists(t,e){this.logger=t,this.sender=e}var _=require("lodash"),Q=require("q");ContactLists.prototype.list=function(){return this.sender.store({},this.sender.factory.MAILJET_TYPE).send("contactslist","get",3,!0)},ContactLists.prototype.viewByName=function(t){var e=Q.defer();return this.list().then(function(n){return e.resolve(_.compact(_.map(_.flatten(_.compact(_.map(JSON.parse(n.response.response.text),function(t){return!!_.isArray(t)&&t}))),function(e){return _.get(e,"Name")===t&&e})))}).catch(function(t){return e.reject(t)}),e.promise},ContactLists.prototype.view=function(t){return this.sender.store({ID:t},this.sender.factory.MAILJET_TYPE).send("contactslist","get",3)},ContactLists.prototype.create=function(t){return this.sender.store({Name:t},this.sender.factory.MAILJET_TYPE).send("contactslist","post",3)},ContactLists.prototype.update=function(t,e){return this.sender.store(_.omitBy({ID:t,Name:e},function(t){return _.isEmpty(t)}),this.sender.factory.MAILJET_TYPE).send("contactslist","put",3)},ContactLists.prototype.delete=function(t){return this.sender.store({ID:t},this.sender.factory.MAILJET_TYPE).send("contactslist","delete",3)},module.exports=function(t,e){return(_.isUndefined(t)||_.isNull(t))&&(logger.warning("[ ContactLists.constructor ] - Invalid logger given. Use internal logger"),t=logger),new ContactLists(t,e)};