"use strict";function Customiser(e){this.logger=e}var logger=require("yocto-logger"),_=require("lodash");Customiser.prototype.mandrillToFormat=function(e,t){return _.map(t,function(t){return{email:t.address,name:t.name,type:e}})},Customiser.prototype.mandrillImportantFormat=function(e,t){return"high"===t},Customiser.prototype.mandrillAttachementFormat=function(e,t){return _.map(t,function(e){return{content:e.content,name:e.filename,type:e.contentType}})},Customiser.prototype.mailjetFromToCcBccFormat=function(e,t){return _.isUndefined(t)?t:_.isArray(t)?_.map(t,function(e){return{Email:e.address,Name:e.name}}):{Email:_.isObject(t)&&_.has(t,"address")?t.address:t,Name:_.isObject(t)&&_.has(t,"name")?t.name:t}},Customiser.prototype.mailjetAttachementFormat=function(e,t){return _.map(t,function(e){return{Base64Content:e.content,ContentType:e.contentType,Filename:e.filename}})},Customiser.prototype.mailjetImportantFormat=function(e,t){return _.get({high:2,low:0},t)||2},Customiser.prototype.postFormatTransactionnalMessage=function(e){_.set(e,"Headers",_.omit(_.get(e,"Headers"),"Reply-To"));var t=_.set({},"Messages",[_.omit(e,"SandboxMode")]);return _.set(t,"SandboxMode",_.get(e,"SandboxMode")||!1),t},module.exports=function(e){return(_.isUndefined(e)||_.isNull(e))&&(logger.warning("[ Customiser.constructor ] - Invalid logger given. Use internal logger"),e=logger),new Customiser(e)};